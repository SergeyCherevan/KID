# Исправление ошибок

## Контекст
Исправляет все ошибки компиляции, линтера и выполнения в проекте .KID. Анализирует ошибки, определяет их причины и исправляет их систематически.

## Задача
Исправь все ошибки в проекте.

### Процесс исправления

1. **Анализ ошибок**
   - Прочитай все ошибки линтера в проекте
   - Прочитай ошибки компиляции если есть
   - Проанализируй каждую ошибку:
     * Тип ошибки (NullReferenceException, MissingMethod, TypeMismatch, и т.д.)
     * Файл и строка где возникает ошибка
     * Причина ошибки
     * Контекст использования

2. **Категоризация ошибок**
   Раздели ошибки на категории:
   - **NullReferenceException** - отсутствие проверок на null
   - **Missing using** - отсутствующие директивы using
   - **Type mismatch** - несоответствие типов
   - **Missing method/property** - отсутствующие методы или свойства
   - **Compilation errors** - ошибки компиляции
   - **Linter warnings** - предупреждения линтера
   - **Runtime errors** - ошибки выполнения

3. **Исправление ошибок по категориям**

   **NullReferenceException:**
   - Добавь проверки на null перед использованием объектов
   - Используй null-conditional операторы (?.) где уместно
   - Добавь ArgumentNullException для параметров методов
   - Используй проверки в конструкторах

   **Missing using:**
   - Добавь необходимые директивы using в начало файла
   - Убедись, что все используемые типы доступны

   **Type mismatch:**
   - Исправь типы переменных
   - Добавь явные приведения типов где необходимо
   - Проверь совместимость типов в присваиваниях

   **Missing method/property:**
   - Реализуй отсутствующие методы
   - Добавь отсутствующие свойства
   - Проверь, что интерфейсы полностью реализованы

   **Compilation errors:**
   - Исправь синтаксические ошибки
   - Исправь ошибки типов
   - Исправь ошибки доступа (public/private)
   - Проверь правильность использования async/await

   **Linter warnings:**
   - Исправь предупреждения о неиспользуемых переменных
   - Исправь предупреждения о возможных null
   - Исправь предупреждения о стиле кода
   - Исправь предупреждения о производительности

   **Runtime errors:**
   - Добавь обработку исключений
   - Улучши валидацию входных данных
   - Добавь проверки границ массивов/коллекций
   - Улучши обработку ошибок в async методах

4. **Проверка исправлений**
   После исправления каждой ошибки:
   - Убедись, что ошибка исправлена
   - Проверь, что не появились новые ошибки
   - Убедись, что функциональность не нарушена

5. **Финальная проверка**
   После исправления всех ошибок:
   - Проверь, что проект компилируется без ошибок
   - Проверь, что нет предупреждений линтера
   - Убедись, что код следует стилю проекта
   - Проверь, что все зависимости правильно разрешены

## Требования
- Исправляй ошибки систематически, не пропуская
- Не меняй логику, только исправляй ошибки
- Сохрани всю существующую функциональность
- Добавь необходимые проверки на null
- Добавь обработку ошибок где необходимо
- Следуй существующему стилю кода
- Не создавай новых ошибок при исправлении старых

## Приоритет исправлений
1. **Критические** - ошибки компиляции, которые блокируют сборку
2. **Важные** - ошибки выполнения, которые могут привести к падению
3. **Средние** - предупреждения линтера, которые указывают на потенциальные проблемы
4. **Низкие** - стилистические предупреждения

## Отчёт об исправлениях
После исправления всех ошибок предоставь отчёт:
- Список исправленных ошибок с описанием
- Изменённые файлы
- Типы исправлений (добавлены проверки, исправлены типы, и т.д.)
- Количество исправленных ошибок по категориям
- Рекомендации для предотвращения подобных ошибок в будущем

